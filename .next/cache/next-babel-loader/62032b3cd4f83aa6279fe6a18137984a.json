{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.getEventSourceWrapper = getEventSourceWrapper;\nvar eventCallbacks = [];\n\nfunction EventSourceWrapper(options) {\n  var source;\n  var lastActivity = new Date();\n  var listeners = [];\n\n  if (!options.timeout) {\n    options.timeout = 20 * 1000;\n  }\n\n  init();\n  var timer = setInterval(function () {\n    if (new Date() - lastActivity > options.timeout) {\n      handleDisconnect();\n    }\n  }, options.timeout / 2);\n\n  function init() {\n    source = new window.EventSource(options.path);\n    source.onopen = handleOnline;\n    source.onerror = handleDisconnect;\n    source.onmessage = handleMessage;\n  }\n\n  function handleOnline() {\n    if (options.log) console.log('[HMR] connected');\n    lastActivity = new Date();\n  }\n\n  function handleMessage(event) {\n    lastActivity = new Date();\n\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i](event);\n    }\n\n    if (event.data.indexOf('action') !== -1) {\n      eventCallbacks.forEach(function (cb) {\n        return cb(event);\n      });\n    }\n  }\n\n  function handleDisconnect() {\n    clearInterval(timer);\n    source.close();\n    setTimeout(init, options.timeout);\n  }\n\n  return {\n    close: function close() {\n      clearInterval(timer);\n      source.close();\n    },\n    addMessageListener: function addMessageListener(fn) {\n      listeners.push(fn);\n    }\n  };\n}\n\nfunction getEventSourceWrapper(options) {\n  if (!options.ondemand) {\n    return {\n      addMessageListener: function addMessageListener(cb) {\n        eventCallbacks.push(cb);\n      }\n    };\n  }\n\n  return EventSourceWrapper(options);\n}","map":{"version":3,"names":["exports","__esModule","getEventSourceWrapper","eventCallbacks","EventSourceWrapper","options","source","lastActivity","Date","listeners","timeout","init","timer","setInterval","handleDisconnect","window","EventSource","path","onopen","handleOnline","onerror","onmessage","handleMessage","log","console","event","i","length","data","indexOf","forEach","cb","clearInterval","close","setTimeout","addMessageListener","fn","push","ondemand"],"sources":["C:/DESPLIEGUES/APLICACIONES-EN-GITHUB/portolio-apps/web-development/jp-crm-graphql/crmcliente/node_modules/next/dist/client/dev/error-overlay/eventsource.js"],"sourcesContent":["\"use strict\";exports.__esModule=true;exports.getEventSourceWrapper=getEventSourceWrapper;var eventCallbacks=[];function EventSourceWrapper(options){var source;var lastActivity=new Date();var listeners=[];if(!options.timeout){options.timeout=20*1000;}init();var timer=setInterval(function(){if(new Date()-lastActivity>options.timeout){handleDisconnect();}},options.timeout/2);function init(){source=new window.EventSource(options.path);source.onopen=handleOnline;source.onerror=handleDisconnect;source.onmessage=handleMessage;}function handleOnline(){if(options.log)console.log('[HMR] connected');lastActivity=new Date();}function handleMessage(event){lastActivity=new Date();for(var i=0;i<listeners.length;i++){listeners[i](event);}if(event.data.indexOf('action')!==-1){eventCallbacks.forEach(cb=>cb(event));}}function handleDisconnect(){clearInterval(timer);source.close();setTimeout(init,options.timeout);}return{close:()=>{clearInterval(timer);source.close();},addMessageListener:function addMessageListener(fn){listeners.push(fn);}};}function getEventSourceWrapper(options){if(!options.ondemand){return{addMessageListener:cb=>{eventCallbacks.push(cb);}};}return EventSourceWrapper(options);}"],"mappings":"AAAA;;AAAaA,OAAO,CAACC,UAAR,GAAmB,IAAnB;AAAwBD,OAAO,CAACE,qBAAR,GAA8BA,qBAA9B;AAAoD,IAAIC,cAAc,GAAC,EAAnB;;AAAsB,SAASC,kBAAT,CAA4BC,OAA5B,EAAoC;EAAC,IAAIC,MAAJ;EAAW,IAAIC,YAAY,GAAC,IAAIC,IAAJ,EAAjB;EAA4B,IAAIC,SAAS,GAAC,EAAd;;EAAiB,IAAG,CAACJ,OAAO,CAACK,OAAZ,EAAoB;IAACL,OAAO,CAACK,OAAR,GAAgB,KAAG,IAAnB;EAAyB;;EAAAC,IAAI;EAAG,IAAIC,KAAK,GAACC,WAAW,CAAC,YAAU;IAAC,IAAG,IAAIL,IAAJ,KAAWD,YAAX,GAAwBF,OAAO,CAACK,OAAnC,EAA2C;MAACI,gBAAgB;IAAI;EAAC,CAA7E,EAA8ET,OAAO,CAACK,OAAR,GAAgB,CAA9F,CAArB;;EAAsH,SAASC,IAAT,GAAe;IAACL,MAAM,GAAC,IAAIS,MAAM,CAACC,WAAX,CAAuBX,OAAO,CAACY,IAA/B,CAAP;IAA4CX,MAAM,CAACY,MAAP,GAAcC,YAAd;IAA2Bb,MAAM,CAACc,OAAP,GAAeN,gBAAf;IAAgCR,MAAM,CAACe,SAAP,GAAiBC,aAAjB;EAAgC;;EAAA,SAASH,YAAT,GAAuB;IAAC,IAAGd,OAAO,CAACkB,GAAX,EAAeC,OAAO,CAACD,GAAR,CAAY,iBAAZ;IAA+BhB,YAAY,GAAC,IAAIC,IAAJ,EAAb;EAAyB;;EAAA,SAASc,aAAT,CAAuBG,KAAvB,EAA6B;IAAClB,YAAY,GAAC,IAAIC,IAAJ,EAAb;;IAAwB,KAAI,IAAIkB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACjB,SAAS,CAACkB,MAAxB,EAA+BD,CAAC,EAAhC,EAAmC;MAACjB,SAAS,CAACiB,CAAD,CAAT,CAAaD,KAAb;IAAqB;;IAAA,IAAGA,KAAK,CAACG,IAAN,CAAWC,OAAX,CAAmB,QAAnB,MAA+B,CAAC,CAAnC,EAAqC;MAAC1B,cAAc,CAAC2B,OAAf,CAAuB,UAAAC,EAAE;QAAA,OAAEA,EAAE,CAACN,KAAD,CAAJ;MAAA,CAAzB;IAAuC;EAAC;;EAAA,SAASX,gBAAT,GAA2B;IAACkB,aAAa,CAACpB,KAAD,CAAb;IAAqBN,MAAM,CAAC2B,KAAP;IAAeC,UAAU,CAACvB,IAAD,EAAMN,OAAO,CAACK,OAAd,CAAV;EAAkC;;EAAA,OAAM;IAACuB,KAAK,EAAC,iBAAI;MAACD,aAAa,CAACpB,KAAD,CAAb;MAAqBN,MAAM,CAAC2B,KAAP;IAAgB,CAAjD;IAAkDE,kBAAkB,EAAC,SAASA,kBAAT,CAA4BC,EAA5B,EAA+B;MAAC3B,SAAS,CAAC4B,IAAV,CAAeD,EAAf;IAAoB;EAAzH,CAAN;AAAkI;;AAAA,SAASlC,qBAAT,CAA+BG,OAA/B,EAAuC;EAAC,IAAG,CAACA,OAAO,CAACiC,QAAZ,EAAqB;IAAC,OAAM;MAACH,kBAAkB,EAAC,4BAAAJ,EAAE,EAAE;QAAC5B,cAAc,CAACkC,IAAf,CAAoBN,EAApB;MAAyB;IAAlD,CAAN;EAA2D;;EAAA,OAAO3B,kBAAkB,CAACC,OAAD,CAAzB;AAAoC"},"metadata":{},"sourceType":"script"}