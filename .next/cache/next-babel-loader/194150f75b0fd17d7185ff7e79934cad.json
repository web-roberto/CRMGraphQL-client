{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport { useQuery, gql } from '@apollo/client';\nimport { useRouter } from 'next/router';\nconst OBTENER_USUARIO = gql`\n    query obtenerUsuario{\n        obtenerUsuario {\n            id\n            nombre\n            apellido\n        }\n    }\n`;\n\nconst Header = () => {\n  const router = useRouter(); // query de apollo\n\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(OBTENER_USUARIO); // console.log(data)\n  // console.log(loading)\n  // console.log(error)\n  // Proteger que no accedamos a data antes de tener resultados\n\n  if (loading) return null; // Si no hay informacion\n\n  if (!data) {\n    return router.push('/login');\n  }\n\n  const {\n    nombre,\n    apellido\n  } = data.obtenerUsuario;\n\n  const cerrarSesion = () => {\n    localStorage.removeItem('token');\n    router.push('/login');\n  };\n\n  return __jsx(\"div\", {\n    className: \"sm:flex sm:justify-between mb-6\"\n  }, __jsx(\"p\", {\n    className: \"mr-2 mb-5 lg:mb-0\"\n  }, \"Hola: \", nombre, \" \", apellido), __jsx(\"button\", {\n    onClick: () => cerrarSesion(),\n    type: \"button\",\n    className: \"bg-blue-800 w-full sm:w-auto font-bold uppercase text-xs rounded py-1 px-2 text-white shadow-md\"\n  }, \"Cerrar Sesi\\xF3n\"));\n};\n\nexport default Header;","map":null,"metadata":{},"sourceType":"module"}