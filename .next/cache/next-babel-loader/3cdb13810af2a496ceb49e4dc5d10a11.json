{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject;\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { useQuery, gql } from '@apollo/client';\nimport { useRouter } from 'next/router';\nvar OBTENER_USUARIO = gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    query obtenerUsuario{\\n        obtenerUsuario {\\n            id\\n            nombre\\n            apellido\\n        }\\n    }\\n\"])));\n\nvar Header = function Header() {\n  var router = useRouter(); // query de apollo\n\n  var _useQuery = useQuery(OBTENER_USUARIO),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error; // console.log(data)\n  // console.log(loading)\n  // console.log(error)\n  // Proteger que no accedamos a data antes de tener resultados\n\n\n  if (loading) return null; // Si no hay informacion\n\n  if (!data) {\n    return router.push('/login');\n  }\n\n  var _data$obtenerUsuario = data.obtenerUsuario,\n      nombre = _data$obtenerUsuario.nombre,\n      apellido = _data$obtenerUsuario.apellido;\n\n  var cerrarSesion = function cerrarSesion() {\n    localStorage.removeItem('token');\n    router.push('/login');\n  };\n\n  return __jsx(\"div\", {\n    className: \"sm:flex sm:justify-between mb-6\"\n  }, __jsx(\"p\", {\n    className: \"mr-2 mb-5 lg:mb-0\"\n  }, \"Hola: \", nombre, \" \", apellido), __jsx(\"button\", {\n    onClick: function onClick() {\n      return cerrarSesion();\n    },\n    type: \"button\",\n    className: \"bg-blue-800 w-full sm:w-auto font-bold uppercase text-xs rounded py-1 px-2 text-white shadow-md\"\n  }, \"Cerrar Sesi\\xF3n\"));\n};\n\nexport default Header;","map":null,"metadata":{},"sourceType":"module"}