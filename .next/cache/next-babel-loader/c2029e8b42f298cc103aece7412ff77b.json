{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject;\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useContext } from 'react';\nimport Select from 'react-select';\nimport { gql, useQuery } from '@apollo/client';\nimport PedidoContext from '../../context/pedidos/PedidoContext';\nvar OBTENER_PRODUCTOS = gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    query obtenerProductos {\\n        obtenerProductos {\\n            id\\n            nombre\\n            precio\\n            existencia\\n        }\\n    }\\n\"])));\n\nvar AsignarProductos = function AsignarProductos() {\n  // state local del componente\n  var _useState = useState([]),\n      productos = _useState[0],\n      setProductos = _useState[1]; // Context de pedidos\n\n\n  var pedidoContext = useContext(PedidoContext);\n  var agregarProducto = pedidoContext.agregarProducto; // consulta a la base de datos\n\n  var _useQuery = useQuery(OBTENER_PRODUCTOS),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error;\n\n  useEffect(function () {\n    // TODO : Funci√≥n para pasar a PedidoState.js\n    agregarProducto(productos);\n  }, [productos]);\n\n  var seleccionarProducto = function seleccionarProducto(producto) {\n    setProductos(producto);\n  };\n\n  if (loading) return null;\n  var obtenerProductos = data.obtenerProductos;\n  return __jsx(React.Fragment, null, __jsx(\"p\", {\n    className: \"mt-10 my-2 bg-white border-l-4 border-gray-800 text-gray-700 p-2 text-sm font-bold\"\n  }, \"2.- Selecciona o busca los productos\"), __jsx(Select, {\n    className: \"mt-3\",\n    options: obtenerProductos,\n    onChange: function onChange(opcion) {\n      return seleccionarProducto(opcion);\n    },\n    isMulti: true,\n    getOptionValue: function getOptionValue(opciones) {\n      return opciones.id;\n    },\n    getOptionLabel: function getOptionLabel(opciones) {\n      return \"\".concat(opciones.nombre, \" - \").concat(opciones.existencia, \" Disponibles\");\n    },\n    placeholder: \"Busque o Seleccione el Producto\",\n    noOptionsMessage: function noOptionsMessage() {\n      return \"No hay resultados\";\n    }\n  }));\n};\n\nexport default AsignarProductos;","map":null,"metadata":{},"sourceType":"module"}